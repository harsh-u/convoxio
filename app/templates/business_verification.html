{% extends 'base.html' %}
{% block title %}Business Verification - Convoxio{% endblock %}

{% block content %}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      
      <!-- Progress Steps -->
      <div class="step-indicator mb-4">
        <div class="step completed">
          <div class="step-number">1</div>
          <span>Account</span>
        </div>
        <div class="step active">
          <div class="step-number">2</div>
          <span>Verification</span>
        </div>
        <div class="step pending">
          <div class="step-number">3</div>
          <span>WhatsApp Setup</span>
        </div>
      </div>

      <div class="card p-5 fade-in">
        <div class="text-center mb-4">
          <i class="bi bi-shield-check text-primary" style="font-size: 3rem;"></i>
          <h2 class="fw-bold mt-3 mb-2">Business Verification</h2>
          <p class="text-muted">Upload your business documents to unlock higher message limits</p>
        </div>

        <!-- Benefits of verification -->
        <div class="row mb-4">
          <div class="col-md-6">
            <div class="bg-light rounded-3 p-3 h-100">
              <h6 class="fw-bold text-success mb-2">
                <i class="bi bi-check-circle me-2"></i>
                With Verification
              </h6>
              <ul class="list-unstyled mb-0 small">
                <li class="mb-1">• 10,000 messages/month</li>
                <li class="mb-1">• Priority support</li>
                <li class="mb-1">• Advanced analytics</li>
                <li class="mb-0">• Custom templates</li>
              </ul>
            </div>
          </div>
          <div class="col-md-6">
            <div class="bg-light rounded-3 p-3 h-100">
              <h6 class="fw-bold text-warning mb-2">
                <i class="bi bi-exclamation-triangle me-2"></i>
                Without Verification
              </h6>
              <ul class="list-unstyled mb-0 small">
                <li class="mb-1">• 1,000 messages/month</li>
                <li class="mb-1">• Standard support</li>
                <li class="mb-1">• Basic analytics</li>
                <li class="mb-0">• Limited templates</li>
              </ul>
            </div>
          </div>
        </div>

        <form method="POST" enctype="multipart/form-data">
          {{ form.hidden_tag() }}
          
          <div class="row g-4 mb-4">
            <div class="col-md-6">
              <label class="form-label fw-semibold">
                <i class="bi bi-file-earmark-text me-2"></i>
                {{ form.pan_file.label.text }}
              </label>
              {{ form.pan_file(class_="form-control form-control-lg") }}
              <div class="form-text">
                <i class="bi bi-info-circle me-1"></i>
                Upload PAN card (PDF, JPG, PNG - Max 16MB)
              </div>
            </div>
            
            <div class="col-md-6">
              <label class="form-label fw-semibold">
                <i class="bi bi-file-earmark-text me-2"></i>
                {{ form.gst_file.label.text }}
              </label>
              {{ form.gst_file(class_="form-control form-control-lg") }}
              <div class="form-text">
                <i class="bi bi-info-circle me-1"></i>
                Upload GST certificate (PDF, JPG, PNG - Max 16MB)
              </div>
            </div>
          </div>
          
          <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-3">
            <a href="{{ url_for('main.dashboard') }}" class="btn btn-outline-secondary me-md-2">
              Skip for Now
            </a>
            {{ form.submit(class_="btn btn-primary btn-lg", value="Upload Documents") }}
          </div>
        </form>
        
        <!-- Current uploads -->
        {% if uploads %}
        <hr class="my-4">
        <h6 class="fw-bold mb-3">
          <i class="bi bi-folder2-open me-2"></i>
          Uploaded Documents
        </h6>
        <div class="row g-3">
          {% for upload in uploads %}
          <div class="col-md-6">
            <div class="card border-success">
              <div class="card-body p-3">
                <div class="d-flex align-items-center">
                  <i class="bi bi-file-earmark-check text-success me-3" style="font-size: 1.5rem;"></i>
                  <div>
                    <h6 class="mb-1">{{ upload.filetype }}</h6>
                    <small class="text-muted">{{ upload.filename }}</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
        {% endif %}
      </div>
      
      <!-- Help section -->
      <div class="text-center mt-4">
        <small class="text-muted">
          <i class="bi bi-question-circle me-1"></i>
          Need help with documents? <a href="#" class="text-decoration-none">Contact Support</a>
        </small>
      </div>
    </div>
  </div>
</div>
{% endblock %}